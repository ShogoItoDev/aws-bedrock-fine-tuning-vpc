# はじめに

- 本レポジトリは作成者が個人的に考案・作成したものであり、所属組織等を代表するものではありません。
- 本レポジトリは検証目的であり、利用による損害等の発生には対応致しかねます。
- 参考にした文献・Webサイトは脚注に記載しています（2024/6閲覧）

# 本レポジトリの目的
AWS Bedrockの導入において、以下を実現したいケースを想定する
- 基盤モデルをファインチューニングして利用したい。
- セキュリティ・ガバナンス上の理由から、ファインチューニングジョブをユーザー指定のVPCで起動させたい

こうしたケースを想定し、以下のアーキテクチャパターンを検討してみる
- 共通基盤となるVPCを1つ作成し、トレーニングジョブのデータ入出力先となるVPCエンドポイントを配置する。
- ファインチューニングのジョブ起動時に、このVPCを指定して起動させる。

本記事の執筆時点（2024/6）時点では公式ドキュメントの情報が不足しているため、上記アーキテクチャを実装するに際し、具体的なパラメータを検証した。


# 利用方法
1. クローンしたディレクトリに移動する

    ```bash
    cd aws-bedrock-fine-tuning-vpc
    ```

2. Terraformを初期化する

    ```bash
    terraform init
    ```

3. `main.tf` 内の `system_identifier` を一意の値に変更する（S3バケット名が一意になるように）

4. terraform applyを実行

    ```bash
    terraform apply
    ```

# ファインチューニングの利用方法（Titan Text G1 Expressの場合）

1. 本レポジトリ内の `dataset.jsonl` を、S3にアップロードしておく[^1]

2. 以下の手順で項目を指定する（画面は2024/6時点のもの）


[^1]:入力データの形式は https://docs.aws.amazon.com/ja_jp/bedrock/latest/userguide/model-customization-prepare.html を参照
